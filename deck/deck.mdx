import {
  CodeSurfer,
  CodeSurferColumns,
  Step,
} from "code-surfer";
import { demo, code, deck } from "./theme";
import { Example, Layout, Centered } from './layout';

export const theme = deck;

<Layout>

# Remixing Constraint Validation

Remix Conf 2023

</Layout>

---

## About me

---

## The Constraint Validation API

---

<CodeSurfer theme={code}>

```html
<input name="email" required />
```

```diff 1[21:29]
```

</CodeSurfer>

---

<CodeSurferColumns themes={[demo, code]} sizes={[2,3]}>

<Step>

<Example src="./examples/basic" />

```jsx file=./01.BaseExample.jsx
```

</Step>

<Step subtitle="Prepare a state that manages error message of each field">

<Example src="./examples/error" />

```jsx file=./02.Preparation.jsx
```

</Step>

<Step subtitle="Capturing validation message with the invalid event">

<Example src="./examples/invalid-event" />

```jsx file=./03.ReportingErrors.jsx
```

</Step>

<Step subtitle="Ensuring messages are reset before reporting new errors">

<Example src="./examples/novalidate" />

```jsx file=./04.EnhancingValidation.jsx
```

</Step>

<Step subtitle="Customizing messages with the validity state">

<Example src="./examples/validitystate" />

```jsx file=./05.CustomizeMessages.jsx
```

</Step>

<Step subtitle="Processing the form data on action">

<Example src="./examples/validitystate" />

```jsx file=./06.Action.jsx
```

</Step>

</CodeSurferColumns>

---

<Centered>

# Never trust the client

</Centered>

---

<CodeSurferColumns themes={[demo, code]} sizes={[2,3]}>

<Step>

<Example src="./examples/nojs?hydrate=no" />

```jsx 49:69 file=./06.Action.jsx
```

</Step>

<Step>

<Example src="./examples/nojs" />

```jsx 66,75 file=./07.ExtractSchema.jsx
```
</Step>

<Step>

<Example src="./examples/nojs" />

```diff 5:15
```
</Step>

<Step>

<Example src="./examples/nojs" />

```jsx 1 file=./08.SecretSauce.jsx
```

</Step>

<Step>

<Example src="./examples/nojs" />

```diff 31:43
```

</Step>

<Step>

<Example src="./examples/nojs" />

```jsx file=./09.SyncState.jsx
```

</Step>

</CodeSurferColumns>

---

Demo
